# Fast RCNN

Fast R-CNN 主要是在R-CNN和SPPNet的基础上进行改进的，主要有以下改进点：
1. 先提取特征，再根据尺度将建议框映射到特征图，直接从特征图中提取候选区域。
2. 利用ROI Pooling将候选区域统一到相同的尺度。
3. 将分类器和回归器直接并入模型，进行端到端训练

## 主要技术

- 候选区域映射：根据下采样倍率，等比的在特征图中截取特征
- RoI Pooling：将特征图划分为7*7的49等分，每个区域执行最大值池化
- 多任务损失函数：softmax分类损失+边界框回归损失

## 优点

- 更高的准确率。
- 使用多任务损失，将模型训练由多阶段转变为单阶段训练。
- 训练时可以一次更新网络的所有层，不再需要分步更新参数。
- 不再需要硬盘来存储CNN提取的特征数据。

##  主要流程
- 使用 Selective Search 方法生成2K个图片候选区域。
- 对整张图片进行特征提取得到相应的特征图（这是对R-CNN的一大改进，参考了SPPNet），并将上一步生成的候选区域映射到特征图中。
- 使用ROI Pooling将所有的候选区域特征统一缩放到7*7大小，然后将这2K个特征向量展平，并连接到全连接层上，得到两个输出结果，一个是K+1类(类别数+背景类)的概率，还有一个是每个类的预测边框。

